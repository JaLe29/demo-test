"use strict";function _interopDefault(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(exports,"__esModule",{value:!0});var React=require("react"),React__default=_interopDefault(React);function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_nonIterableRest()}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _iterableToArrayLimit(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var r=[],n=!0,o=!1,a=void 0;try{for(var i,u=e[Symbol.iterator]();!(n=(i=u.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){o=!0,a=e}finally{try{n||null==u.return||u.return()}finally{if(o)throw a}}return r}}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function styleInject(e,t){void 0===t&&(t={});var r=t.insertAt;if(e&&"undefined"!=typeof document){var n=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css","top"===r&&n.firstChild?n.insertBefore(o,n.firstChild):n.appendChild(o),o.styleSheet?o.styleSheet.cssText=e:o.appendChild(document.createTextNode(e))}}var css=".textArea-module_textArea__jOs0v {\n  border-radius: 5px;\n  width: calc(100% - 20px - 10px - 2px);\n  padding: 10px;\n  margin: 5px;\n  border: 1.5px solid;\n  resize: none;\n  font-family: inherit;\n  font-size: inherit; }\n  .textArea-module_textArea__jOs0v:focus {\n    outline: none; }\n\n.textArea-module_message__356sA {\n  height: 70px;\n  width: 100%; }\n\n.textArea-module_normal__252TE {\n  border-color: #288ce4; }\n\n.textArea-module_notFocused__39uMv {\n  color: #b7b7b7 !important;\n  border-color: #b7b7b7 !important; }\n\n.textArea-module_error__3cOzU {\n  border-color: red !important; }\n",css$1={textArea:"textArea-module_textArea__jOs0v",message:"textArea-module_message__356sA",normal:"textArea-module_normal__252TE",notFocused:"textArea-module_notFocused__39uMv",error:"textArea-module_error__3cOzU"};styleInject(css);var TIMEOUT=2e3,TextArea=function(e){var t=e.onSubmit,r=e.setInputState,n=e.inputState,o=_slicedToArray(React.useState(!1),2),a=o[0],i=o[1],u=_slicedToArray(React.useState(""),2),s=u[0],l=u[1],c=!1;React.useEffect((function(){var e;return"done"===n&&(e=setTimeout((function(){i(!1),r("ready")}),TIMEOUT)),function(){e&&clearTimeout(e)}}),[n,r]);var d=function(e){if(13===e.keyCode&&!1===e.shiftKey){c=!0;var r=s.trim();if(0===r.length)return;return t(r),void l("")}if(c)c=!1;else{var n=e.target.value||"";l(n)}},_=[css$1.textArea];return a?_.push(css$1.normal):_.push(css$1.notFocused),["sending","done"].includes(n)?"DONE":React__default.createElement("textarea",{value:s,onChange:d,onKeyDown:d,onFocus:function(){return i(!0)},onBlur:function(){return i(!1)},className:_.join(" "),placeholder:"Join the discussion..."})},TextArea$1=React__default.memo(TextArea);exports.default=TextArea$1;
